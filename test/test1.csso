
//	Harold Ozouf 	Epitech Rennes 
//	CssO project



//	Features:
//		- Import
//		- Class
//		- Inheritance
//		- Constant
//		- Constructor
//		- Function
//		- Static Function
//		- Child
//		- Property
//		- Function Whith Parameter
//		- Some Type (Pixel, Point, Color, Percent, Second, Url, Calc)
//		- Entry Point



//	Rules:
//		- Constant only in classes, mustn't be inside a function
//		- Constant can only contain: Pixel, Point, Color, Percent, Second, Url, Calc
//		- No this variable
//		- No calculs
//		- Static functions can be called without object instanciation
//		- Function can't be called without object instanciation
//		- Function and Object parameters can be passed by a Constant or by the Primitive Type
//		- File imported give access to all their classes and their imports



// 	-- CssO Syntax and AST--

//Import "lib/Std.csso";

Class 	List {
	Function List() {
		width:  		100%;
	}
}

Class 	Link {
	@ll: 				2px;
	Function 	Link() {
		color: 			#ff0000;
	}
}

Class 	MyList Extends List {
	@color1: 			#424242;

	Function MyList(@str) :
		"li:hover" 		-> hover();
		"li a" 			-> New Link();
		"li a:after" 	-> after(@str);
	{
		Super();
		display: 		block;
		border: 		1px solid black;
	}

	Function hover() {
		color: 			(@color1);
	}
	
	Function after(@str) {
		content: 		(@str);
	}

	Static Function last() :
		"a" 			-> Std.a();
	{
		background: 	static;
	}
}

	// Html Class -> entry point


Class 	Html {
	@arrow: 	"->";
	@msg: 		"hello_world!";
	@calcs: 		(2px * 5 + 1px);

	Function Html() :
		"ul" 			-> New MyList(@arrow);
		"h1"			-> setTitle(@msg);
	{
	}

	Function setTitle(@bg) {
		color: 			#424242;
//		background: 	white url("plop.png"); // set background with "hello_world.png"
	}

}


	// Class:
	// 	_name: 	'Html';
	// 	_body: [
	// 		Function:
	// 			_name: 	'Html';
	// 			_body: [];
	// 			_childs: [
	// 				Child:
	// 					_selector: 	'ul';
	// 					_value: 	ClassCall:
	// 						_name: 	'MyList';
	// 						_arguments: [
	// 							String: "->"
	// 						]
	// 				Child:
	// 					_selector: 	'h1';
	// 					_value: 	FunctionCall:
	// 						_name: 	'setTitle';
	// 						_arguments: [
	// 							String: 'hello_world.png'
	// 						]
	// 			]
	// 		Function:
	// 			_name: 	"setTitle";
	// 			_body: [
	// 				Property:
	// 					_name: 		color;
	// 					_value: 	[Color: #424242];
	// 				Property:
	// 					_name: 		background;
	// 					_value: 	[
	// 						Value: 'white',
	// 						Url:
	// 							_target: 	VariableCall:
	// 								_name: 	'bg';
	// 					]

	// 			]
	// 	]


